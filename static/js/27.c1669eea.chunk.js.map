{"version":3,"file":"static/js/27.c1669eea.chunk.js","mappings":"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","sources":["pages/PostDetails.jsx","services/api.js"],"sourcesContent":["import React, { Suspense, lazy, useEffect, useRef } from 'react';\nimport { ThreeCircles } from 'react-loader-spinner';\nimport { useDispatch, useSelector } from 'react-redux';\nimport {\n  NavLink,\n  useParams,\n  Routes,\n  Route,\n  useLocation,\n  Link,\n} from 'react-router-dom';\nimport { toast } from 'react-toastify';\nimport {\n  setError,\n  setIsLoading,\n  setPostDetails,\n} from '../redux/postDetailsReducer';\nimport { fetchDetails } from 'services/api';\n\nconst CommentsPostPage = lazy(() => import('pages/CommentsPostPage'));\n\nconst toastConfig = {\n  position: 'top-right',\n  autoClose: 5000,\n  hideProgressBar: false,\n  closeOnClick: true,\n  pauseOnHover: true,\n  draggable: true,\n  progress: undefined,\n  theme: 'dark',\n};\n\nconst PostDetails = () => {\n  // const [postDetails, setPostDetails] = useState(null);\n  // const [isLoading, setIsLoading] = useState(false);\n  // const [error, setError] = useState(null);\n  const postDetails = useSelector(state => state.postDetails.postDetails);\n  const isLoading = useSelector(state => state.postDetails.isLoading);\n  const error = useSelector(state => state.postDetails.error);\n  const dispatch = useDispatch();\n\n  const { postId } = useParams();\n  const location = useLocation();\n  const backLinkHref = useRef(location.state?.from ?? '/');\n\n  useEffect(() => {\n    if (!postId) return;\n\n    const fetchPostData = async () => {\n      try {\n        dispatch(setIsLoading(true));\n\n        const postData = await fetchDetails(postId);\n        dispatch(setPostDetails(postData));\n\n        toast.success('Post details were successfully fetched!', toastConfig);\n      } catch (error) {\n        dispatch(setError(error.message));\n\n        toast.error(error.message, toastConfig);\n      } finally {\n        dispatch(setIsLoading(false));\n      }\n    };\n    fetchPostData();\n  }, [postId, dispatch]);\n\n  return (\n    <div>\n      <h1>Post Details</h1>\n      <Link to={backLinkHref.current}>Go back</Link>\n      {error !== null && <p className=\"c-error\"> Oops, error.</p>}\n      {isLoading && (\n        <ThreeCircles\n          visible={true}\n          height=\"100\"\n          width=\"100\"\n          color=\"#04e4f9\"\n          ariaLabel=\"three-circles-loading\"\n          wrapperStyle={{}}\n          wrapperClass=\"\"\n        />\n      )}\n\n      {postDetails !== null && (\n        <div className=\"post-details\">\n          <h2 className=\"post_details-title\">Title: {postDetails.title} </h2>\n          <p className=\"post_details-id\">ID: {postDetails.id} </p>\n          <p className=\"post_details-body\"> {postDetails.body} </p>\n          <div>\n            <NavLink to=\"comments\">Comments</NavLink>\n          </div>\n        </div>\n      )}\n      <Suspense\n        fallback={\n          <ThreeCircles\n            visible={true}\n            height=\"100\"\n            width=\"100\"\n            color=\"#04e4f9\"\n            ariaLabel=\"three-circles-loading\"\n            wrapperStyle={{}}\n            wrapperClass=\"\"\n          />\n        }\n      >\n        <Routes>\n          <Route path=\"comments\" element={<CommentsPostPage />} />\n        </Routes>\n      </Suspense>\n    </div>\n  );\n};\n\nexport default PostDetails;\n","import axios from 'axios';\n\nconst JSON_PLACEHOLDER_BASE_URL = 'https://jsonplaceholder.typicode.com';\n\nexport const fetchPosts = async () => {\n  const { data } = await axios.get(`${JSON_PLACEHOLDER_BASE_URL}/posts`);\n  return data;\n};\n\nexport const fetchDetails = async postId => {\n  const { data } = await axios.get(\n    `${JSON_PLACEHOLDER_BASE_URL}/posts/${postId}`\n  );\n  return data;\n};\n\nexport const fetchComments = async postId => {\n  const { data } = await axios.get(\n    `${JSON_PLACEHOLDER_BASE_URL}/posts/${postId}/comments`\n  );\n  return data;\n};\n"],"names":["CommentsPostPage","lazy","toastConfig","position","autoClose","hideProgressBar","closeOnClick","pauseOnHover","draggable","progress","undefined","theme","_location$state$from","_location$state","postDetails","useSelector","state","isLoading","error","dispatch","useDispatch","postId","useParams","location","useLocation","backLinkHref","useRef","from","useEffect","fetchPostData","_ref","_asyncToGenerator","_regeneratorRuntime","_callee","postData","_context","prev","next","setIsLoading","fetchDetails","sent","setPostDetails","toast","t0","setError","message","finish","stop","apply","arguments","_jsxs","children","_jsx","Link","to","current","className","ThreeCircles","visible","height","width","color","ariaLabel","wrapperStyle","wrapperClass","title","id","body","NavLink","Suspense","fallback","Routes","Route","path","element","JSON_PLACEHOLDER_BASE_URL","fetchPosts","_yield$axios$get","data","axios","concat","abrupt","_ref2","_callee2","_yield$axios$get2","_context2","_x","fetchComments","_ref3","_callee3","_yield$axios$get3","_context3","_x2"],"sourceRoot":""}